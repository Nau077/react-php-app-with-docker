{"ast":null,"code":"var _jsxFileName = \"/home/roman/web/php-docker-api/client/src/components/delivery__modules/delivery_form-upload.js\";\nimport React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Fab from \"@material-ui/core/Fab\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AddPhotoAlternateIcon from \"@material-ui/icons/AddPhotoAlternate\";\nimport red from \"@material-ui/core/colors/red\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 406,\n    margin: 'auto',\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"flex-end\"\n  },\n  icon: {\n    margin: theme.spacing(2)\n  },\n  iconHover: {\n    margin: theme.spacing(2),\n    \"&:hover\": {\n      color: red[800]\n    }\n  },\n  cardHeader: {\n    textalign: \"center\",\n    align: \"center\",\n    backgroundColor: \"white\"\n  },\n  input: {\n    display: \"none\"\n  },\n  title: {\n    color: blue[800],\n    fontWeight: \"bold\",\n    fontFamily: \"Montserrat\",\n    align: \"center\"\n  },\n  button: {\n    color: blue[900],\n    margin: 10\n  },\n  secondaryButton: {\n    color: \"gray\",\n    margin: 10\n  },\n  typography: {\n    margin: theme.spacing(2),\n    backgroundColor: \"default\"\n  }\n});\n\nclass FormUpload extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mainState: \"initial\",\n      imageUploaded: 0,\n      selectedFile: null\n    };\n\n    this.handleUploadClick = event => {\n      let file = event.target.files[0];\n      const reader = new FileReader();\n      let url = reader.readAsDataURL(file);\n      setTimeout(() => {\n        this.props.handleUploadFile(this.state.selectedFile);\n      }, 0);\n\n      reader.onloadend = function (e) {\n        this.setState({\n          selectedFile: [reader.result]\n        });\n      }.bind(this);\n\n      this.setState({\n        mainState: \"uploaded\",\n        selectedFile: event.target.files[0],\n        imageUploaded: 1\n      });\n    };\n  }\n\n  renderInitialState() {\n    const {\n      classes,\n      theme\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      accept: \"image/*\",\n      className: classes.input,\n      id: \"contained-button-file\",\n      multiple: true,\n      type: \"file\",\n      onChange: this.handleUploadClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"contained-button-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      component: \"span\",\n      className: classes.button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AddPhotoAlternateIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n  renderUploadedState() {\n    const {\n      classes,\n      theme\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardActionArea, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"70%\",\n      className: classes.media,\n      src: this.state.selectedFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"upload-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, this.renderInitialState(), this.state.mainState == \"uploaded\" && this.renderUploadedState())));\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(FormUpload);","map":{"version":3,"sources":["/home/roman/web/php-docker-api/client/src/components/delivery__modules/delivery_form-upload.js"],"names":["React","Card","CardActionArea","CardContent","Fab","blue","Grid","AddPhotoAlternateIcon","red","withStyles","styles","theme","root","backgroundColor","palette","background","paper","width","margin","display","justifyContent","alignItems","icon","spacing","iconHover","color","cardHeader","textalign","align","input","title","fontWeight","fontFamily","button","secondaryButton","typography","FormUpload","Component","state","mainState","imageUploaded","selectedFile","handleUploadClick","event","file","target","files","reader","FileReader","url","readAsDataURL","setTimeout","props","handleUploadFile","onloadend","e","setState","result","bind","renderInitialState","classes","value","renderUploadedState","media","render","withTheme"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Fab from \"@material-ui/core/Fab\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AddPhotoAlternateIcon from \"@material-ui/icons/AddPhotoAlternate\";\nimport red from \"@material-ui/core/colors/red\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 406,\n    margin: 'auto',\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"flex-end\"\n  },\n  icon: {\n    margin: theme.spacing(2)\n  },\n  iconHover: {\n    margin: theme.spacing(2),\n    \"&:hover\": {\n      color: red[800]\n    }\n  },\n  cardHeader: {\n    textalign: \"center\",\n    align: \"center\",\n    backgroundColor: \"white\"\n  },\n  input: {\n    display: \"none\"\n  },\n  title: {\n    color: blue[800],\n    fontWeight: \"bold\",\n    fontFamily: \"Montserrat\",\n    align: \"center\"\n  },\n  button: {\n    color: blue[900],\n    margin: 10\n  },\n  secondaryButton: {\n    color: \"gray\",\n    margin: 10\n  },\n  typography: {\n    margin: theme.spacing(2),\n    backgroundColor: \"default\"\n  },\n\n});\n\nclass FormUpload extends React.Component {\n\n  state = {\n    mainState: \"initial\",\n    imageUploaded: 0,\n    selectedFile: null\n  };\n\n  handleUploadClick = event => {\n    let file = event.target.files[0];\n    const reader = new FileReader();\n    let url = reader.readAsDataURL(file);\n    setTimeout(() => {\n        this.props.handleUploadFile(this.state.selectedFile) \n    }, 0);\n   \n\n    reader.onloadend = function(e) {\n      this.setState({\n        selectedFile: [reader.result]\n      });\n    }.bind(this);\n\n    this.setState({\n      mainState: \"uploaded\",\n      selectedFile: event.target.files[0],\n      imageUploaded: 1\n    });\n    \n  };\n\n  renderInitialState() {\n    const { classes, theme } = this.props;\n    const { value } = this.state;\n\n    return (\n      <React.Fragment>\n        <CardContent>\n          <Grid container justify=\"center\" alignItems=\"center\">\n            <input\n              accept=\"image/*\"\n              className={classes.input}\n              id=\"contained-button-file\"\n              multiple\n              type=\"file\"\n              onChange={this.handleUploadClick}\n            />\n            <label htmlFor=\"contained-button-file\">\n              <Fab component=\"span\" className={classes.button}>\n                <AddPhotoAlternateIcon />\n              </Fab>\n            </label>\n          </Grid>\n        </CardContent>\n      </React.Fragment>\n    );\n  }\n\n  renderUploadedState() {\n    const { classes, theme } = this.props;\n\n    return (\n      <React.Fragment>\n        <CardActionArea>\n          <img\n            width=\"70%\"\n            className={classes.media}\n            src={this.state.selectedFile}\n          />\n        </CardActionArea>\n      </React.Fragment>\n    );\n  }\n \n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <React.Fragment>\n        <div className={classes.root}>\n          <Card className=\"upload-card\">\n            {(this.renderInitialState())}\n            {  (this.state.mainState == \"uploaded\" &&\n                this.renderUploadedState())\n                }\n          </Card>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(FormUpload);\n"]},"metadata":{},"sourceType":"module"}